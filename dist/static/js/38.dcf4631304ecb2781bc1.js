webpackJsonp([38],{mwpC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("2hMI"),s=r("Icdr"),i={data:function(){return{loading:!0,refsh:!0,intervalId:null}},mounted:function(){this.getChartsData()},methods:{refresh:function(){var e=this;this.refsh=!this.refsh,null==this.intervalId&&(this.intervalId=setInterval(function(){e.getChartsData()},1e4))},refreshNo:function(){this.refsh=!this.refsh,this.clear()},clear:function(){clearInterval(this.intervalId),this.intervalId=null},server1:function(){var e=this;Object(a._10)({serverAddr:"server1"}).then(function(t){200==t.data.code?e.$message({message:"下线成功！",type:"success",duration:1e3}):e.$message({message:t.data.errorMessage,type:"error",duration:1e3})})},server2:function(){var e=this;Object(a._10)({serverAddr:"server2"}).then(function(t){200==t.data.code?e.$message({message:"下线成功！",type:"success",duration:1e3}):e.$message({message:t.data.errorMessage,type:"error",duration:1e3})})},getChartsData:function(){var e=this,t=s.init(this.$refs.myChart),r=[],i=[];Object(a.L)().then(function(a){e.loading=!1;var s=a.data.data;for(var n in s)r.push(s[n].name),i.push(s[n].value);t.setOption({title:{text:"",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:""}},xAxis:{data:r},grid:{x:"5%",y:"10%",x2:"5%",y2:"15%",borderWidth:1},yAxis:{minInterval:1},series:[{name:"数据条数",type:"bar",data:i,color:"#409eff",barMaxWidth:60,itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:16}}}}}]})})}},destroyed:function(){this.clear()}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table chart"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),r("el-breadcrumb-item",[e._v("服务管理")]),e._v(" "),e._l(e.$route.meta,function(t,a){return r("el-breadcrumb-item",{key:a},[e._v(e._s(t))])})],2),e._v(" "),r("el-form",{ref:"searchItem",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchItem,size:"mini"}},[r("el-form-item",[r("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.server1()}}},[e._v("10.0.42.104下线")]),e._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.server2()}}},[e._v("10.0.42.208下线")]),e._v(" "),e.refsh?r("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.refresh()}}},[e._v("定时刷新")]):r("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.refreshNo()}}},[e._v("关闭刷新")])],1)],1),e._v(" "),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table-box"},[r("div",{ref:"myChart",style:{width:"100%",height:"100%"}})])],1)},staticRenderFns:[]};var o=r("VU/8")(i,n,!1,function(e){r("q/su")},"data-v-7867d914",null);t.default=o.exports},"q/su":function(e,t){}});