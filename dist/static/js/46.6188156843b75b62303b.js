webpackJsonp([46],{TTVq:function(t,e){},VBc3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("2hMI"),r=a("pWbq"),i=a("Icdr"),s={data:function(){return{list:[],searchItem:{lenovoId:""},userList:[],seaBtnLoading:!1,fileBtnLoading:!1}},created:function(){this.getUserList()},mounted:function(){this.getChartsData()},methods:{resetForm:function(t){this.$refs[t].resetFields(),this.currentPage=1,this.getUserList(),this.getChartsData()},onSubmit:function(){this.seaBtnLoading=!0,this.getChartsData(),this.seaBtnLoading=!1},getUserList:function(){var t=this;Object(n.u)().then(function(e){t.userList=e.data.data})},getChartsData:function(){var t={lenovoid:this.searchItem.lenovoId},e=i.init(this.$refs.myChart);Object(n.t)(t).then(function(t){for(var a=t.data.data.visits,n=[],i=0;i<a.length;i++)n.unshift(a[i]);var s=t.data.data.data,o=[],l=[];for(i=0;i<s.length;i++)o.unshift(s[i]);o.map(function(t){var e=parseInt(t),a=new Date(e).getFullYear()+"-"+Object(r.a)(new Date(e).getMonth()+1)+"-"+Object(r.a)(new Date(e).getDate());l.push(a)}),e.setOption({title:{text:"用户访问量统计",left:"center"},tooltip:{},xAxis:{data:l,axisLabel:{rotate:40}},yAxis:{},series:[{name:"访问量",type:"bar",data:n,color:"#409eff",barWidth:60,itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:16}}}}}]})})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),t._l(t.$route.meta,function(e,n){return a("el-breadcrumb-item",{key:n},[t._v(t._s(e))])})],2),t._v(" "),a("el-form",{ref:"searchItem",staticClass:"demo-form-inline no_width",attrs:{inline:!0,model:t.searchItem,size:"mini"}},[a("el-form-item",{attrs:{label:"用户",prop:"lenovoId"}},[a("el-select",{attrs:{placeholder:"--",clearable:""},model:{value:t.searchItem.lenovoId,callback:function(e){t.$set(t.searchItem,"lenovoId","string"==typeof e?e.trim():e)},expression:"searchItem.lenovoId"}},t._l(t.userList,function(t,e){return a("el-option",{key:e,attrs:{label:t.userName,value:t.lenovoId}})}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.seaBtnLoading},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.resetForm("searchItem")}}},[t._v("重置")])],1)],1),t._v(" "),a("div",{staticClass:"table-box"},[a("div",{ref:"myChart",style:{width:"700px",height:"400px",margin:"30px auto 0"}})])],1)},staticRenderFns:[]};var l=a("VU/8")(s,o,!1,function(t){a("TTVq")},"data-v-1a041dc5",null);e.default=l.exports}});