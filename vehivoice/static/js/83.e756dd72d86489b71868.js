webpackJsonp([83],{U6sc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("2hMI"),r=a("krqS"),n=(a("pWbq"),a("Icdr"));a("4UDB"),a("ILx8"),a("miEh"),a("wQkr"),a("Oq2I");var s={data:function(){var e=this;return{pickerOptions:{disabledDate:function(t){var a=Date.now(),i=e.timeOptionRange;return i?t.getTime()>i.getTime()+(Date.now()-i.getTime()<6048e5?Date.now()-i.getTime():6048e5)||t.getTime()<i.getTime()-6048e5:t.getTime()>a},onPick:function(t){t.minDate&&!t.maxDate&&(e.timeOptionRange=t.minDate),t.maxDate&&(e.timeOptionRange=null)}},searchItem:{pickerVal:[]},list:[],pickerVal:[],seaBtnLoading:!1,loading:!0}},mounted:function(){this.getChartsData()},methods:{onSubmit:function(){this.seaBtnLoading=!0,this.getChartsData(),this.seaBtnLoading=!1},computedPosition:function(e,t){return t>=24?this.end=e<=24?50:100-Math.floor(50/e*100):100},getChartsData:function(){var e=this,t={startStr:null==this.searchItem.pickerVal?"":this.searchItem.pickerVal[0],endStr:null==this.searchItem.pickerVal?"":this.searchItem.pickerVal[1]};t.sign=Object(r.a)(t);var a=n.init(this.$refs.myChart);Object(i.h)(t).then(function(t){e.loading=!1;var i=t.data.data.visit.length;a.setOption({title:{text:"时间响应统计",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:""},formatter:"{b}:00 <br/>{a} : {c}ms"},xAxis:{type:"category",data:t.data.data.data,axisLabel:{rotate:20,formatter:"{value}:00"}},grid:{x:"5%",y:"10%",x2:"5%",y2:"15%",borderWidth:1},yAxis:{minInterval:1,type:"value",axisLabel:{formatter:"{value} ms"}},series:[{name:"平均时间",type:"line",data:t.data.data.visit,barMaxWidth:60,itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:16,formatter:"{value} ms"}}}}}],dataZoom:[{type:"slider",show:!0,handleSize:2,height:"15",start:0,end:e.computedPosition(1,i)}]})})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table height-105"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(this.$route.meta.title))])],1),e._v(" "),a("el-form",{ref:"searchItem",staticClass:"demo-form-inline height70 width130",attrs:{inline:!0,model:e.searchItem,"label-width":"90px",size:"mini"}},[a("div",{staticClass:"form-input height70"},[a("el-form-item",{staticClass:"date-form",attrs:{label:"日期",prop:"pickerVal"}},[a("el-date-picker",{attrs:{type:"daterange",align:"center",size:"mini","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd","default-value":new Date((new Date).setMonth((new Date).getMonth()-1))},model:{value:e.searchItem.pickerVal,callback:function(t){e.$set(e.searchItem,"pickerVal",t)},expression:"searchItem.pickerVal"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary",loading:e.seaBtnLoading},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table-box",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[a("div",{ref:"myChart",style:{width:"100%",height:"100%"}})])],1)},staticRenderFns:[]};var l=a("VU/8")(s,o,!1,function(e){a("eyeY")},"data-v-25e93660",null);t.default=l.exports},eyeY:function(e,t){}});